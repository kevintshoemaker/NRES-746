<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="NRES 746" />


<meta name="progressive" content="false" />
<meta name="allow-skip" content="false" />

<title>Lab 2</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-the-virtual-ecologist" class="section level2">
<h2>The Virtual Ecologist</h2>
<p>As with all lab reports, your answers will either take the form of R functions or short written responses (submitted together in a Word document). The R functions should be stored in an R script file (‘.R’ extension). To allow me to evaluate your work more efficiently, please name your R script using the following convention: "[your first name]_[your last name]_lab2.R“. So my submission would be”kevin_shoemaker_lab2.R". The name of your Word document doesn’t matter, as long as you submit via WebCampus.</p>
<p>Please submit the R script and the Word document via WebCampus by midnight on the due date (one week after the final lab session allocated for this topic – here, <em>Oct. 8</em>). You can work in groups but please submit the materials individually.</p>
<p>When writing functions, it’s often easiest to start off by writing a script, and then when you have everything working properly, wrap the script into a function. But don’t forget to test your function!</p>
<p>Please comment your code thoroughly. Don’t be afraid of <em>for</em> loops and inefficient coding practices… And of course <em>be dangerous</em>!</p>
</div>
<div id="section-final-projects" class="section level2">
<h2>Final Projects</h2>
<p>If you haven’t already, please list your final project information (project title, group members etc.) on our <a href="https://docs.google.com/spreadsheets/d/1aZa31yLtxN5_El95SrbqXFT5eDgm0EmtrJmNcY2jEKA/edit?usp=sharing">shared Google sheets document</a></p>
</div>
<div id="section-simulating-data-in-r" class="section level2">
<h2>Simulating Data in R</h2>
<p>First, review the basic approach to simulating data in the <a href="https://kevintshoemaker.github.io/NRES-746/LECTURE3.html">“Virtual Ecologist” lecture</a>. Recall that a data simulation model can be constructed as a <em>deterministic component</em> (defining underlying relationships between the process of interest and a set of covariates), with a <em>stochastic component</em> wrapped around it (defining the “noise”, or “error” associated with each observation from the process of interest).</p>
</div>
<div id="section-exercise-2.1-model-verification-part-1" class="section level2">
<h2>Exercise 2.1: model verification, part 1</h2>
<p>Simulate data that meet the standard assumptions of univariate linear regression (homoskedasticity, Gaussian/independent residual errors). Then run the “lm()” function on your simulated data and examine how closely the parameter estimates match the “true” parameter value.</p>
</div>
<div id="section-exercise-2.1a" class="section level2">
<h2>Exercise 2.1a</h2>
<p>Write a function called “LMDataSim()” for drawing a set of random observations from a defined data generating model that meets all the assumptions of ordinary linear regression. This function should be specified as follows:</p>
<ul>
<li><strong>input</strong>:
<ul>
<li>sample.size = a scalar (integer) specifying the number of observations to simulate</li>
<li>xlimits = a vector of length 2 specifying the minimum and maximum values of the covariate “x”<br />
</li>
<li>coefs = a vector of length 2 specifying (in order) the intercept and slope of the deterministic relationship defining the expected response as a function of “x”.<br />
</li>
<li>stdev = a scalar specifying the standard deviation of the residual errors.</li>
</ul></li>
<li><strong>suggested algorithm</strong>:
<ul>
<li>sample random values (size=“sample.size”) from a uniform distribution (min and max defined by “xlimits”) to represent the covariate (use the “runif()” function)<br />
</li>
<li>Use the defined linear model (defined by “coefs”) to determine the expected value of the response.</li>
<li>Add “noise” to the expected values according to the “stdev” parameter (use the “rnorm()” function)</li>
</ul></li>
<li><strong>return</strong>:
<ul>
<li>out = a data frame with number of rows equal to “sample.size”, and two columns. The first column should represent the values of the “x” variable and the second column should represent stochastic observations from the <em>known</em> model defined by “coefs” and “stdev”</li>
</ul></li>
</ul>
<p>Test your function- for example, using the following code:</p>
<pre class="r"><code>LMDataSim(sample.size=10,xlimits=c(40,120),coefs=c(55,-0.09),stdev=6.8)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["y"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"81.90399","2":"39.56450"},{"1":"51.93442","2":"54.82948"},{"1":"112.60225","2":"48.85725"},{"1":"84.53440","2":"43.89037"},{"1":"97.21221","2":"53.38171"},{"1":"86.48955","2":"42.92668"},{"1":"88.52708","2":"59.71362"},{"1":"60.57212","2":"47.77479"},{"1":"88.58446","2":"52.55631"},{"1":"53.42395","2":"54.85771"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Include your function in your submitted r script!</p>
<p>You can use this “sandbox” (below) to develop and test your function!</p>
<div class="tutorial-exercise" data-label="q2.1a" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>LMDataSim &lt;- function(sample.size,xlimits,coefs,stdev){
    # [add code here!]
}
LMDataSim(sample.size=20,xlimits=c(40,120),coefs=c(5,0.3),stdev=1)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.timelimit":60,"exercise.checker":["function (label = NULL, user_code = NULL, solution_code = NULL, ","    check_code = NULL, envir_result = NULL, evaluate_result = NULL, ","    ..., debug = FALSE) ","{","    if (debug) {","        save_file_name <- sprintf(\"~/Downloads/CheckR/chunk-%s.rds\", ","            label)","        saveRDS(list(label = label, user_code = user_code, solution_code = solution_code, ","            check_code = check_code, envir = envir_result, evaluate_result = evaluate_result), ","            file = save_file_name)","    }","    if (is.null(envir_result)) {","        res <- pre_check(user_code, solution_code)","        if (failed(res)) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","        else {","            return(TRUE)","        }","    }","    if (!is.null(envir_result)) {","        res <- parse_check(user_code)","        if (!res$correct) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","    }","    parsed_check_code <- parse(text = check_code)","    res <- eval(parsed_check_code, envir = list(USER_CODE = user_code))","    if (res$action == \"ok\" && res$message == \"\") ","        res$message = \"Good\"","    feedback_type <- switch(res$action, pass = \"success\", fail = \"error\", ","        ok = \"warning\")","    final <- list(correct = (res$action == \"pass\"), message = res$message, ","        type = feedback_type, location = \"prepend\")","    final","}"]}</script>
</div>
<div id="section-q2.1a-hint">
<p><strong>Hint:</strong> No hints … yet!</p>
</div>
<div class="tutorial-exercise-support" data-label="q2.1a-check" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>check_q2.1a &lt;- function(USER_CODE){
    code &lt;- checkr::for_checkr(USER_CODE)
    func_call &lt;- checkr::line_where(code,checkr::insist(F== &quot;LMDataSim&quot;,&quot;Use LMDataSim() function!&quot;))
    t1 &lt;- checkr::line_where(func_call, 
        checkr::insist(abs(sum(coef(lm(V$y~V$x))-c(5,0.3)))&lt;=1.3, 
        &quot;Sorry, that&#39;s not correct&quot;),
        checkr::passif(TRUE, &quot;Very nice!&quot;))
}
check_q2.1a(USER_CODE)</code></pre>
</div>
</div>
<div id="section-exercise-2.1b" class="section level2">
<h2>Exercise 2.1b</h2>
<p>Write a function called “LMVerify_pt1()” for computing how well the coefficients and variance from R’s “lm()” function match the known coefficients of the model used to generate the data. This function should be specified as follows:</p>
<ul>
<li><strong>input</strong>:
<ul>
<li>sim.dataset = a data frame representing data simulated from a linear model with known coefficients (and known residual variance). The first column should represent the values of the “x” variable and the second column should represent stochastic observations from the <em>known</em> model defined by “trueparams”</li>
<li>trueparams = a vector of length 3 specifying the intercept, slope, and standard deviation of the residual errors of the known relationship between “x” and the response</li>
<li>plot = a logical (TRUE/FALSE) indicating whether or not to produce a plot with regression line and confidence interval</li>
</ul></li>
<li><strong>suggested algorithm</strong>:
<ul>
<li>Use the “lm()” function to estimate the coefficients and residual standard deviation of the relationships between column 1 and column 2 of “sim.dataset” (regress column 2 on column 1)<br />
</li>
<li>Extract and store the regression coefficients (intercept and slope parameter)<br />
</li>
<li>Extract an estimate of the residual standard deviation of the regression relationship.</li>
<li>Subtract the known parameter values (intercept, slope, error sd) from the regression parameters.</li>
<li>[if plot=TRUE] Plot the estimated regression line with a 95% confidence interval around the estimated regression line (e.g., computed using the “predict()” function). Overlay the “true” linear relationship (from the known data generating model). Add a legend to differentiate the true linear relationship from the estimated regression line.</li>
<li>Use an “ifelse()” statement to record whether or not the 95% confidence interval around the slope parameter estimate (estimated from the data) contains the “true” parameter value (if the 95% confidence interval contains the true value, then TRUE, otherwise FALSE)</li>
</ul></li>
<li><strong>return</strong>:
<ul>
<li>out = a list of length 2 with the following elements:
<ul>
<li>a vector of length 3 representing (in order) the differences between the known parameters (intercept, slope, error sd) and the estimates from a linear regression model</li>
<li>a logical (TRUE/FALSE) representing whether or not the 95% confidence interval around the slope parameter estimate (estimated from the data) contains the “true” parameter value.</li>
</ul></li>
</ul></li>
</ul>
<p>Test your function- for example, using the following code:</p>
<pre class="r"><code>simdat &lt;- LMDataSim(sample.size=10,xlimits=c(40,120),coefs=c(55,-0.09),stdev=6.8)

LMVerify_pt1(sim.dataset = simdat, trueparams = c(55,-0.09,6.8))</code></pre>
<p><img src="LAB2_files/figure-html/test2.1b-1.png" width="624" /></p>
<pre><code>## $difs
##  intercept          x      stdev 
## 16.4934025 -0.1849074 -4.5130120 
## 
## $inside
## [1] FALSE</code></pre>
<p>Include your function in your submitted r script!</p>
<p>You can use this “sandbox” (below) to develop and test your function!</p>
<div class="tutorial-exercise" data-label="q2.1b" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>simdat &lt;- LMDataSim(sample.size=1000,xlimits=c(0,10),coefs=c(0,1),stdev=1)
LMVerify_pt1 &lt;- function(sim.dataset,trueparams,plot=TRUE){
    # [add code here!]
}
LMVerify_pt1(sim.dataset = simdat, trueparams = c(0,1,1),plot=FALSE)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.timelimit":60,"exercise.checker":["function (label = NULL, user_code = NULL, solution_code = NULL, ","    check_code = NULL, envir_result = NULL, evaluate_result = NULL, ","    ..., debug = FALSE) ","{","    if (debug) {","        save_file_name <- sprintf(\"~/Downloads/CheckR/chunk-%s.rds\", ","            label)","        saveRDS(list(label = label, user_code = user_code, solution_code = solution_code, ","            check_code = check_code, envir = envir_result, evaluate_result = evaluate_result), ","            file = save_file_name)","    }","    if (is.null(envir_result)) {","        res <- pre_check(user_code, solution_code)","        if (failed(res)) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","        else {","            return(TRUE)","        }","    }","    if (!is.null(envir_result)) {","        res <- parse_check(user_code)","        if (!res$correct) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","    }","    parsed_check_code <- parse(text = check_code)","    res <- eval(parsed_check_code, envir = list(USER_CODE = user_code))","    if (res$action == \"ok\" && res$message == \"\") ","        res$message = \"Good\"","    feedback_type <- switch(res$action, pass = \"success\", fail = \"error\", ","        ok = \"warning\")","    final <- list(correct = (res$action == \"pass\"), message = res$message, ","        type = feedback_type, location = \"prepend\")","    final","}"]}</script>
</div>
<div id="section-q2.1b-hint">
<p><strong>Hint:</strong> No hints … yet!</p>
</div>
<div class="tutorial-exercise-support" data-label="q2.1b-check" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>check_q2.1b &lt;- function(USER_CODE){
    code &lt;- checkr::for_checkr(USER_CODE)
    func_call &lt;- checkr::line_where(code,checkr::insist(F== &quot;LMVerify_pt1&quot;,&quot;Use LMVerify_pt1() function!&quot;))
    t1 &lt;- checkr::line_where(func_call, 
        checkr::insist(dplyr::near(0,sum(V[[1]]),tol=0.09), &quot;Sorry, that&#39;s not correct&quot;),
        checkr::passif(TRUE, &quot;Hallelujah!&quot;))
}
check_q2.1b(USER_CODE)</code></pre>
</div>
</div>
<div id="section-aside-plotting-confidence-intervals" class="section level2">
<h2>Aside: plotting confidence intervals</h2>
<p>You can use the ‘predict’ function to compute confidence intervals and prediction intervals:</p>
<pre class="r"><code>predict.lm(yourmodel, interval = c(&quot;confidence&quot;), level = 0.95)   # for confidence interval
predict.lm(yourmodel, interval = c(&quot;prediction&quot;), level = 0.95)   # for prediction interval</code></pre>
<p>The predict function allows you to predict a response (and estimate confidence intervals) for any arbitrary covariate values. To do this you need to add a “newdata” argument to the predict function. For example:</p>
<pre class="r"><code>nd &lt;- data.frame(x=seq(lb,ub,1))  # note that the predictor names need to match the predictor names in the model object! 
predict.lm(yourmodel, newdata=nd, interval = c(&quot;confidence&quot;), level = 0.95)   # for confidence interval</code></pre>
<p>Note that the prediction interval code may occasionally return some warnings- which you may safely ignore!</p>
</div>
<div id="section-exercise-2.1c." class="section level2">
<h2><strong>Exercise 2.1c</strong>.</h2>
<p>Does the 95% confidence interval around the slope estimate (estimated from simulated data with a sample size of 10) contain the “true” slope parameter value 95% of the time (a frequentist question!). In your Word document, explain how you addressed this question. Did you need more than 100 simulated data sets to answer this question?</p>
</div>
<div id="section-aside-review-of-conditional-statements-in-r" class="section level2">
<h2>ASIDE: review of conditional statements in R</h2>
<p>NOTE: The previous exercise requires the use of “conditional” statements. That is, if a condition is true, do something. If the condition is false, do something else. The syntax for doing this in R is:</p>
<pre><code>if(TRUE){
  do something
}else{
  do something else
}
</code></pre>
<p>Let’s say I want to determine the number of vector elements that are cleanly divisible by 3. I could write the following code:</p>
<pre class="r"><code>inputvector &lt;- c(1:100) # vector of interest
div_by_three &lt;- 0

for(i in 1:length(inputvector)){
  if(i%%3==0){  # if there is zero remainder after dividing by three
    div_by_three &lt;- div_by_three+1   # then increment the storage variable
  }
}

div_by_three</code></pre>
<pre><code>## [1] 33</code></pre>
<p>An alternative way to do this would be to do use the “which()” function. This tells you which indices in a vector correspond to “TRUE” conditions.</p>
<p>For example,</p>
<pre class="r"><code>which(c(FALSE,TRUE,TRUE,FALSE))</code></pre>
<pre><code>## [1] 2 3</code></pre>
<p>Using “which”, we could re-write the above code to take up just one line!</p>
<pre class="r"><code>div_by_three &lt;- length(which(inputvector%%3==0))</code></pre>
</div>
<div id="section-exercise-2.2-model-verification-part-2" class="section level2">
<h2>Exercise 2.2: model verification, part 2</h2>
<p>How might your results from part 2.1 change if your data simulations DID NOT meet the assumptions of ordinary linear regression- e.g., if the variances were not homogeneous?</p>
<p>To test this, you are asked to write an R function to generate data that violates a basic assumption regarding the error distribution of standard linear regression. Specifically, your function should generate “heteroskedastic” data, such that the variance of the residuals depends on the magnitude of the covariate “x”. For this exercise, you’ll still need to specify a linear relationship (y=ax+b) between your response and predictor - the only difference is that the residual variance is no longer homogeneous.</p>
<p>Some other potential violations of standard assumtions we could also introduce into our data simulations if we wanted to:</p>
<ul>
<li>use a non-normal error distribution<br />
</li>
<li>introduce temporal autocorrelation<br />
</li>
<li>introduce other types of correlation structure among the observations<br />
</li>
<li>use a mixture of two error distributions</li>
<li>use a non-linear functional form</li>
</ul>
</div>
<div id="section-exercise-2.2a." class="section level2">
<h2><strong>Exercise 2.2a</strong>.</h2>
<p>In your Word document, please explain how biological or sampling processes could yield data that violate (1) the standard regression assumption of normally distributed residuals and (2) the standard regression assumption of independent observations. Be as brief as possible in your response!</p>
</div>
<div id="section-exercise-2.2b." class="section level2">
<h2><strong>Exercise 2.2b</strong>.</h2>
<p>Write a function called “LMDataSim2()” for drawing a set of random observations from a defined linear relationship that meets all the assumptions of ordinary linear regression <em>except for homoskedasticity</em>. This function should be specified as follows:</p>
<ul>
<li><strong>input</strong>:
<ul>
<li>sample.size = a scalar (integer) specifying the number of observations to simulate</li>
<li>xlimits = a vector of length 2 specifying the minimum and maximum values of the covariate “x”<br />
</li>
<li>coefs = a vector of length 2 specifying (in order) the intercept and slope of the relationship between “x” and the expected response -</li>
<li>sd_coefs = a vector of length 2 specifying (in order) coefficients for a “heteroskedasticity” model specifies standard deviation as a linear function of the covariate “x”</li>
</ul></li>
<li><strong>suggested algorithm</strong>:
<ul>
<li>sample random values (size=“sample.size”) from a uniform distribution (min and max defined by “xlimits”) to represent the covariate (use the “runif()” function)<br />
</li>
<li>Use the defined linear model (defined by “coefs”) to determine the expected value of the response.</li>
<li>Use the defined linear model (defined by “sd_coefs”) to determine the expected value of the standard deviation of the response.</li>
<li>Add “noise” to the expected values according to the “stdev” parameter (use the “rnorm()” function). Note that this should now depend on the covariate “x”.</li>
</ul></li>
<li><strong>return</strong>:
<ul>
<li>out = a data frame with number of rows equal to “sample.size”, and two columns. The first column should represent the values of the “x” variable and the second column should represent stochastic observations from the <em>known</em> model defined by “coefs” and “stdev”</li>
</ul></li>
</ul>
<p>NOTE: make sure that your linear model for stdev does not go negative - this will return “NaN” values (not a number!).</p>
<p>Test your function- for example, using the following code:</p>
<pre class="r"><code>test &lt;- LMDataSim2(sample.size=35,xlimits=c(40,120),coefs=c(55,-0.09),sd_coefs=c(-0.2,0.04))
plot(test$x,test$y)</code></pre>
<p><img src="LAB2_files/figure-html/test2.2b-1.png" width="624" /></p>
<p>Include your function in your submitted r script!</p>
<p>You can use this “sandbox” (below) to develop and test your function!</p>
<div class="tutorial-exercise" data-label="q2.2b" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>LMDataSim2 &lt;- function(sample.size,xlimits,coefs,sd_coefs){
    # [add code here!]
}
LMDataSim2(sample.size=1000,xlimits=c(0,10),coefs=c(0,0.5),sd_coefs=c(0,0.2))</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.timelimit":60,"exercise.checker":["function (label = NULL, user_code = NULL, solution_code = NULL, ","    check_code = NULL, envir_result = NULL, evaluate_result = NULL, ","    ..., debug = FALSE) ","{","    if (debug) {","        save_file_name <- sprintf(\"~/Downloads/CheckR/chunk-%s.rds\", ","            label)","        saveRDS(list(label = label, user_code = user_code, solution_code = solution_code, ","            check_code = check_code, envir = envir_result, evaluate_result = evaluate_result), ","            file = save_file_name)","    }","    if (is.null(envir_result)) {","        res <- pre_check(user_code, solution_code)","        if (failed(res)) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","        else {","            return(TRUE)","        }","    }","    if (!is.null(envir_result)) {","        res <- parse_check(user_code)","        if (!res$correct) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","    }","    parsed_check_code <- parse(text = check_code)","    res <- eval(parsed_check_code, envir = list(USER_CODE = user_code))","    if (res$action == \"ok\" && res$message == \"\") ","        res$message = \"Good\"","    feedback_type <- switch(res$action, pass = \"success\", fail = \"error\", ","        ok = \"warning\")","    final <- list(correct = (res$action == \"pass\"), message = res$message, ","        type = feedback_type, location = \"prepend\")","    final","}"]}</script>
</div>
<div id="section-q2.2b-hint">
<p><strong>Hint:</strong> No hints … yet!</p>
</div>
<div class="tutorial-exercise-support" data-label="q2.2b-check" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>check_q2.2b &lt;- function(USER_CODE){
    code &lt;- checkr::for_checkr(USER_CODE)
    func_call &lt;- checkr::line_where(code,checkr::insist(F== &quot;LMDataSim2&quot;,&quot;Use LMDataSim2() function!&quot;))
    t1 &lt;- checkr::line_where(func_call, 
        checkr::insist(dplyr::near(0.16,coefficients( lm( abs(residuals( lm(V[,2]~V[,1]) ))~V[,1]) )[2],tol=0.06), &quot;Sorry, that&#39;s not correct&quot;),
        checkr::passif(TRUE, &quot;Hot Damn!&quot;))
}
check_q2.2b(USER_CODE)</code></pre>
</div>
</div>
<div id="section-exercise-2.2c." class="section level2">
<h2><strong>Exercise 2.2c</strong>.</h2>
<p>Write a function called “LMVerify_pt2()” for computing how well the coefficients from R’s “lm()” function match the known coefficients of the model used to generate the data. This function should be specified as follows:</p>
<ul>
<li><strong>input</strong>:
<ul>
<li>sim.dataset = a data frame representing data simulated from a linear model with known coefficients (and known residual variance, with variance dependent on the covariate “x”). The first column should represent the values of the “x” variable and the second column should represent stochastic observations from the <em>known</em> model defined by “trueparams”</li>
<li>trueparams = a vector of length 2 specifying the intercept and slope of the known relationship between “x” and the response</li>
<li>plot = a logical (T/F) indicating whether or not to produce a plot</li>
</ul></li>
<li><strong>suggested algorithm</strong>:
<ul>
<li>Use the “lm()” function to estimate the coefficients of the relationships between column 1 and column 2 of “sim.dataset” (regress column 2 on column 1)<br />
</li>
<li>Extract and store the regression coefficients (intercept and slope parameter)<br />
</li>
<li>Subtract the known parameter values (intercept, slope) from the regression parameters.</li>
<li>[if plot=T] Plot the estimated regression line with a <em>95% prediction interval</em> around the estimated regression line (e.g., computed using the “predict()” function). Overlay the “observations” from the known data generating model.</li>
<li>Use an “ifelse()” statement to record whether or not the 95% confidence interval around the slope parameter estimate (estimated from the data) contains the “true” parameter value (if the 95% confidence interval contains the true value, then TRUE, otherwise FALSE)</li>
</ul></li>
<li><strong>return</strong>:
<ul>
<li>out = a list of length 2 with the following elements:
<ul>
<li>a vector of length 2 representing (in order) the differences between the known parameters (intercept, slope) and the estimates from a linear regression model</li>
<li>a logical (TRUE/FALSE) representing whether or not the 95% confidence interval around the slope parameter estimate (estimated from the data) contains the “true” parameter value.</li>
</ul></li>
</ul></li>
</ul>
<p>Test your function- for example, using the following code:</p>
<pre class="r"><code>simdat &lt;- LMDataSim2(sample.size=35,xlimits=c(40,120),coefs=c(55,-0.09),sd_coefs=c(-0.3,0.05))
LMVerify_pt2(sim.dataset = simdat, trueparams = c(55,-0.09))</code></pre>
<p><img src="LAB2_files/figure-html/test2.2c-1.png" width="624" /></p>
<pre><code>## $difs
##   intercept           x 
##  3.55339807 -0.05256428 
## 
## $inside
## [1] TRUE</code></pre>
<p>Include your function in your submitted r script!</p>
<p>You can use this “sandbox” (below) to develop and test your function!</p>
<div class="tutorial-exercise" data-label="q2.2c" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>simdat &lt;- LMDataSim2(sample.size=1000,xlimits=c(0,10),coefs=c(0,0.5),sd_coefs=c(0,0.2))
LMVerify_pt2 &lt;- function(sim.dataset,trueparams,plot=TRUE){
    # [add code here!]
}
LMVerify_pt2(sim.dataset = simdat, trueparams = c(0,0.5),plot=FALSE)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.timelimit":60,"exercise.checker":["function (label = NULL, user_code = NULL, solution_code = NULL, ","    check_code = NULL, envir_result = NULL, evaluate_result = NULL, ","    ..., debug = FALSE) ","{","    if (debug) {","        save_file_name <- sprintf(\"~/Downloads/CheckR/chunk-%s.rds\", ","            label)","        saveRDS(list(label = label, user_code = user_code, solution_code = solution_code, ","            check_code = check_code, envir = envir_result, evaluate_result = evaluate_result), ","            file = save_file_name)","    }","    if (is.null(envir_result)) {","        res <- pre_check(user_code, solution_code)","        if (failed(res)) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","        else {","            return(TRUE)","        }","    }","    if (!is.null(envir_result)) {","        res <- parse_check(user_code)","        if (!res$correct) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","    }","    parsed_check_code <- parse(text = check_code)","    res <- eval(parsed_check_code, envir = list(USER_CODE = user_code))","    if (res$action == \"ok\" && res$message == \"\") ","        res$message = \"Good\"","    feedback_type <- switch(res$action, pass = \"success\", fail = \"error\", ","        ok = \"warning\")","    final <- list(correct = (res$action == \"pass\"), message = res$message, ","        type = feedback_type, location = \"prepend\")","    final","}"]}</script>
</div>
<div id="section-q2.2c-hint">
<p><strong>Hint:</strong> No hints … yet!</p>
</div>
<div class="tutorial-exercise-support" data-label="q2.2c-check" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>check_q2.2c &lt;- function(USER_CODE){
    code &lt;- checkr::for_checkr(USER_CODE)
    func_call &lt;- checkr::line_where(code,checkr::insist(F== &quot;LMVerify_pt2&quot;,&quot;Use LMVerify_pt2() function!&quot;))
    t1 &lt;- checkr::line_where(func_call, 
        checkr::insist(dplyr::near(0,sum(V[[1]]),tol=0.075), &quot;Sorry, that&#39;s not correct&quot;),
        checkr::passif(TRUE, &quot;Rock and Roll!&quot;))
}
check_q2.2c(USER_CODE)</code></pre>
</div>
</div>
<div id="section-exercise-2.2d." class="section level2">
<h2><strong>Exercise 2.2d</strong>.</h2>
<p>In your Word document, please answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>Is the estimate of the slope parameter (obtained using the ‘lm()’ function) <em>biased</em>? [note: statistical bias of an estimator is the difference between the estimator’s expected value and the true value of the parameter being estimated]. Ideally, an estimator should be <em>unbiased</em> (bias=0). Briefly explain how you got your answer.</li>
</ol>
<p><img src="LAB2_files/figure-html/answer2.2d1-1.png" width="624" /></p>
<pre><code>## [1] 0.0003869134</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Evaluate <em>goodness-of-fit</em> by visualizing the range of data produced by the true model against the prediction interval from the estimated model (generated using the ‘lm()’ function). In your Word document, please include this figure and describe very briefly how this figure helps you to evaluate goodness-of-fit (could your observed data have been generated by the model?)</li>
</ol>
<p>Here is an example of a goodness-of-fit visualization:</p>
<p><img src="LAB2_files/figure-html/answer2.2d2-1.png" width="624" /></p>
</div>
<div id="section-exercise-2.3-power-analysis" class="section level2">
<h2>Exercise 2.3: Power analysis!</h2>
<p>Review the “power analysis” section of the <a href="LECTURE3.html">Virtual Ecologist lecture</a>, and complete the following exercises. Recall that we are designing a monitoring program for a population of an at-risk species, and we want to have <em>at least a 75% chance of detecting a decline of 25% or more over a 25 year period</em>. Let’s assume that we are using visual counts, and that the probability of encountering each organism visually is 2% per person-day. The most recent population estimate was 1000 (assume that we know that with certainty).</p>
</div>
<div id="section-exercise-2.3a" class="section level2">
<h2><strong>Exercise 2.3a</strong></h2>
<p>Develop a function called “GetPower()” that evaluates the statistical power to detect a decline under user-specified types of monitoring designs (e.g., varying numbers of observers, intervals between successive surveys). This function should be specified as follows:</p>
<ul>
<li><strong>input</strong>:
<ul>
<li>initabund: initial population abundance (default=1000)</li>
<li>nreps: number of replicated long-term monitoring data sets to generate in order to evaluate power<br />
</li>
<li>trend: proportional change in population size each year<br />
</li>
<li>years: duration of simulation (in years)</li>
<li>days: survey duration, in days</li>
<li>observers: number of survey participants each day of each survey year<br />
</li>
<li>survint: survey interval, in years (e.g., 2 means surveys are conducted every other year, 3 means surveys are conducted every 3 years)</li>
<li>alpha: acceptable type-I error rate below which we are confident to make the call that a population is declining.</li>
</ul></li>
<li><strong>suggested algorithm</strong>:
<ul>
<li>Up to you!!! You can make use of the functions in the “Virtual Ecologist” lecture.</li>
</ul></li>
<li><strong>return</strong>:
<ul>
<li>A single floating point (real number) value representing the statistical power to detect a decline under the specified default parameters and alpha level. This represents the percent of replicate data sets for which you correctly reject the null hypothesis of “no decline”.</li>
</ul></li>
</ul>
<p>And we can test our new function using a command like this:</p>
<pre class="r"><code>GetPower(survint=3)         # test the new function</code></pre>
<pre><code>## [1] 0.903</code></pre>
<p>Include your function in your submitted r script!</p>
<p>You can use this “sandbox” (below) to develop and test your function!</p>
<div class="tutorial-exercise" data-label="q2.3a" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>GetPower &lt;- function(initabund=1000,nreps=1000,trend=-0.03,years=25,days=3,observers=1,survint=2,alpha=0.05){
    # [add code here!]
}
GetPower(initabund=1000,nreps=1000,trend=-0.03,years=25,days=1,observers=1,survint=2,alpha=0.1)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":6.5,"fig.height":4,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":624,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.timelimit":60,"exercise.checker":["function (label = NULL, user_code = NULL, solution_code = NULL, ","    check_code = NULL, envir_result = NULL, evaluate_result = NULL, ","    ..., debug = FALSE) ","{","    if (debug) {","        save_file_name <- sprintf(\"~/Downloads/CheckR/chunk-%s.rds\", ","            label)","        saveRDS(list(label = label, user_code = user_code, solution_code = solution_code, ","            check_code = check_code, envir = envir_result, evaluate_result = evaluate_result), ","            file = save_file_name)","    }","    if (is.null(envir_result)) {","        res <- pre_check(user_code, solution_code)","        if (failed(res)) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","        else {","            return(TRUE)","        }","    }","    if (!is.null(envir_result)) {","        res <- parse_check(user_code)","        if (!res$correct) {","            return(list(correct = FALSE, type = \"error\", location = \"prepend\", ","                message = res$message))","        }","    }","    parsed_check_code <- parse(text = check_code)","    res <- eval(parsed_check_code, envir = list(USER_CODE = user_code))","    if (res$action == \"ok\" && res$message == \"\") ","        res$message = \"Good\"","    feedback_type <- switch(res$action, pass = \"success\", fail = \"error\", ","        ok = \"warning\")","    final <- list(correct = (res$action == \"pass\"), message = res$message, ","        type = feedback_type, location = \"prepend\")","    final","}"]}</script>
</div>
<div id="section-q2.3a-hint">
<p><strong>Hint:</strong> No hints … yet!</p>
</div>
<div class="tutorial-exercise-support" data-label="q2.3a-check" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>check_q2.3a &lt;- function(USER_CODE){
    code &lt;- checkr::for_checkr(USER_CODE)
    func_call &lt;- checkr::line_where(code,checkr::insist(F== &quot;GetPower&quot;,&quot;Use GetPower() function!&quot;))
    t1 &lt;- checkr::line_where(func_call, 
        checkr::insist(dplyr::near(0.84,sum(V),tol=0.07), &quot;Sorry, that&#39;s not correct&quot;),
        checkr::passif(TRUE, &quot;Wunderbar!&quot;))
}
check_q2.3a(USER_CODE)</code></pre>
</div>
</div>
<div id="section-exercise-2.3b." class="section level2">
<h2><strong>Exercise 2.3b</strong>.</h2>
<p>For each variable element of the survey design (survey interval, number of observers, days per survey bout), evaluate how statistical power changes across a range of plausible values. Plot out these relationships. In your Word document, provide ONE of these plots, describe (briefly!) how you produced the plot, and how this information might help managers to develop effective survey protocols for this species.</p>
<p><img src="LAB2_files/figure-html/answer2.3b-1.png" width="624" /><img src="LAB2_files/figure-html/answer2.3b-2.png" width="624" /><img src="LAB2_files/figure-html/answer2.3b-3.png" width="624" /></p>
</div>
<div id="section-exercise-2.3c" class="section level2">
<h2><strong>Exercise 2.3c</strong></h2>
<p>Let’s factor in dollar amounts. Let’s assume each observer is paid $200 per day. In addition, let’s assume that the site is fairly remote and it costs $2000 to mount a field expedition (regardless of the number of field technicians). Can you identify a survey strategy to minimize cost while meeting the objective??? What is the optimal survey design in your opinion? Briefly describe how you arrived at this conclusion. [NOTE: don’t overthink this one- you don’t need to find the true optimal solution, just find a solution that meets the objective at relatively low cost and justify your answer!]</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["observers"],"name":[1],"type":["int"],"align":["right"]},{"label":["days"],"name":[2],"type":["int"],"align":["right"]},{"label":["survint"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"4","2":"1","3":"4","_rn_":"4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
library(checkr)
tutorial_options(exercise.timelimit = 60, exercise.checker = checkr::check_for_learnr)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="data">

#############
## exercise 2.1a

LMDataSim <- function(sample.size,xlimits,coefs,stdev){
  xvals <- runif(sample.size,xlimits[1],xlimits[2])
  yvals <- coefs[1] + coefs[2]*xvals
  yvals <- rnorm(sample.size,yvals,stdev)
  out <- data.frame(x=xvals,y=yvals)
  return(out)
}

</script>
 
<script type="application/shiny-prerendered" data-context="data">

temp <- LMDataSim(sample.size=20,xlimits=c(40,120),coefs=c(5,0.3),stdev=1)
answer1a <- coef(lm(temp$y~temp$x))

</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-q2.1a-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-q2.1a-code-editor`)), session)
output$`tutorial-exercise-q2.1a-output` <- renderUI({
  `tutorial-exercise-q2.1a-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-q2.1b-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-q2.1b-code-editor`)), session)
output$`tutorial-exercise-q2.1b-output` <- renderUI({
  `tutorial-exercise-q2.1b-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="data">

#############
## exercise 2.2b

LMDataSim2 <- function(sample.size,xlimits,coefs,sd_coefs){
  xvals <- runif(sample.size,xlimits[1],xlimits[2])
  yvals <- coefs[1] + coefs[2]*xvals
  sds <- sd_coefs[1] + sd_coefs[2]*xvals
  yvals <- rnorm(sample.size,yvals,sds)
  out <- data.frame(x=xvals,y=yvals)
  return(out)
}

</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-q2.2b-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-q2.2b-code-editor`)), session)
output$`tutorial-exercise-q2.2b-output` <- renderUI({
  `tutorial-exercise-q2.2b-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-q2.2c-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-q2.2c-code-editor`)), session)
output$`tutorial-exercise-q2.2c-output` <- renderUI({
  `tutorial-exercise-q2.2c-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="data">

############
# Exercise 2.3: power analysis


####### first, read in the functions from the "virtual ecologist" lecture. 

########
# function for computing the number of observed/detected animals in a single survey

    # Arguments:
      # TrueN: true population abundance
      # surveyors: number of survey participants each day
      # days: survey duration, in days

NumObserved <- function(TrueN=1000,surveyors=1,days=3){
  probPerPersonDay <- 0.02      # define the probability of detection per animal per person-day [hard-coded- potentially bad coding practice!]
  probPerDay <- 1-(1-probPerPersonDay)^surveyors      # define the probability of detection per animal per day (multiple surveyors)(animal must be detected at least once)
  probPerSurvey <- 1-(1-probPerDay)^days       # define the probability of detection per animal for the entire survey
  nobs <- rbinom(1,size=TrueN,prob=probPerSurvey)     # simulate the number of animals detected!
  return(nobs)
}
# NumObserved(TrueN=500,surveyors=2,days=7)   # test the new function


#########
# function for computing expected abundance dynamics of a declining population (deterministic component!)

    # Arguments:
      # LastYearAbund: true population abundance in the previous year
      # trend: proportional change in population size from last year

ThisYearAbund <- function(LastYearAbund=1000,trend=-0.03){
  CurAbund <- LastYearAbund + trend*LastYearAbund    # compute abundance this year
  CurAbund <- floor(CurAbund)  # can't have fractional individuals!
  return(CurAbund)
}


########
# develop a function for simulating monitoring data from a declining population

    # Arguments:
      # initabund: true initial population abundance
      # trend: proportional change in population size from last year
      # years: duration of simulation
      # observers: number of survey participants each day
      # days: survey duration, in days
      # survint: survey interval, in years (e.g., 2 means surveys are conducted every other year)

SimulateMonitoringData <- function(initabund=1000,trend=-0.03,years=25,observers=1,days=3,survint=2){
  prevabund <- initabund        # initialize "previous-year abundance" at initial abundance 
  detected <- numeric(years)     # set up storage variable
  for(y in 1:years){            # for each year of the simulation:
    thisAbund <- ThisYearAbund(prevabund,trend)             # compute the current abundance on the basis of the trend
    detected[y] <- NumObserved(thisAbund,observers,days)     # sample the current population using this monitoring scheme
    prevabund <- thisAbund   # set this years abundance as the previous years abundance (to set up the simulation for next year)
  }
  surveyed <- c(1:years)%%survint==0    # which years were surveys actually performed?
  detected[!surveyed] <- NA            # if the survey is not performed that year, return a missing value
  return(detected)       # return the number of individuals detected
}


#########
# finally, develop a function for assessing whether or not a decline was detected:

    # Arguments:
      # monitoringData: simulated results from a long-term monitoring study
      # alpha: define acceptable type-I error rate (false positive rate)

IsDecline <- function(monitoringData,alpha=0.05){
  time <- 1:length(monitoringData)      # vector of survey years
  model <- lm(monitoringData~time)    # for now, let's use ordinary linear regression (perform linear regression on simulated monitoring data)
  p_value <- summary(model)$coefficients["time","Pr(>|t|)"]      # extract the p-value  
  isdecline <- ifelse(summary(model)$coefficients["time","Estimate"]<0,TRUE,FALSE)     # determine if the simulated monitoring data determined a "significant" decline
  sig_decline <- ifelse((p_value<=alpha)&(isdecline),TRUE,FALSE)    # if declining and significant trend, then the monitoring protocol successfully diagnosed a decline
  return(sig_decline)
}




</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-q2.3a-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-q2.3a-code-editor`)), session)
output$`tutorial-exercise-q2.3a-output` <- renderUI({
  `tutorial-exercise-q2.3a-result`()
})
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.14"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.14"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.14"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.14"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.14"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.14"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["localforage"]},{"type":"character","attributes":{},"value":["1.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/localforage"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["localforage.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","checkr","codetools","compiler","crayon","datasets","digest","dplyr","evaluate","glue","graphics","grDevices","htmltools","htmlwidgets","httpuv","jsonlite","knitr","later","learnr","magrittr","markdown","methods","mime","pillar","pkgconfig","promises","purrr","R6","Rcpp","rlang","rmarkdown","rprojroot","shiny","stats","stringi","stringr","tibble","tidyselect","tools","utils","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.1.4","3.6.1","0.3.0","0.2-16","3.6.1","1.3.4","3.6.1","0.6.20","0.8.0.1","0.14","1.3.1","3.6.1","3.6.1","0.3.6","1.3","1.5.1","1.6","1.24","0.8.0","0.9.2.1","1.5","1.1","3.6.1","0.7","1.4.2","2.0.2","1.0.1","0.3.2","2.4.0","1.0.1","0.4.0","1.14","1.3-2","1.3.2","3.6.1","1.4.3","1.4.0","2.1.1","0.2.5","3.6.1","3.6.1","2.1.2","0.8","1.8-4","2.2.0"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Lab 2</h2>
<h4 class="author"><em>NRES 746</em></h4>
<h4 class="date"><em>Fall 2019</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>

</html>
