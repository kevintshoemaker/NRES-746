

model{

#Likelihood 

for(t in 2:time){ #Loop through the number of observations, we have to start at t=2 because at t=1 there is no t-1 data to pull from!
  NDVI[t] ~ dnorm(expNDVI[t],precNDVI)
  expNDVI[t] <- b0 + b1*NDVI[t-1] + b2*rain[t-1]
}

#Priors
b0 ~ dnorm(0,0.1) #intercept term - dnorm uses mu and precision (1/var). So prec of 0.1 is a var of 10
b1 ~ dnorm(0,0.1) #slope term for previous month's NDVI
b2 ~ dnorm(0,0.1) #slope term for previous month's RAIN

sd ~ dnorm(0,0.1)T(0,) #We're truncating the prior to be positive

#Derived terms
precNDVI <- pow(sd,-2) #compute precision from stdv. 1/var

}
