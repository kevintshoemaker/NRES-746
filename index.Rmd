---
title: "Welcome to NRES 746"
author: "Advanced Analysis Methods in Natural Resources and Environmental Science"
date: "Fall 2021"
output:
  html_document:
    theme: cerulean
    toc: yes
    toc_float: yes
---
      
### Instructor 
Kevin Shoemaker			
Office: FA 220E					
Phone: (775)682-7449					
Email: [kevinshoemaker@unr.edu](kevinshoemaker@unr.edu)			
Office hours: Wednesdays at 1pm in FA 220e

### Course Meeting Times
**Lecture & Discussion**: M, W at noon in MS 324 (50 mins)          
**Lab**: Tuesday at 3pm in MS 324 (2 hours 45 mins)        

### Course Website
[https://kevintshoemaker.github.io/NRES-746/](https://kevintshoemaker.github.io/NRES-746/)

### Course Objectives
Modern computers have reduced or eliminated many of the barriers to advanced data analysis, and as a result computational algorithms now often supersede mathematical formulas for complex data analysis. Armed with basic concepts of probability and statistics, and with some facility with computer programming (and a deep understanding of the natural world!) ecologists and natural resource professionals can get more out of their data than ever before. **In this course, we embrace algorithms (and avoid closed-form mathematical solutions)!**. This can be messy, and time-consuming, but it allows us to focus on the ecological system first and foremost, instead of being constrained by the statistical tools available to us.  

By the end of this course, students should have the ability to (1) develop computational routines to simulate data under alternative models, (2) fit these computational models to data using maximum likelihood and Bayesian inference, (3) assess model adequacy, goodness-of-fit and predictive performance, and (4) understand where and when to use a wide variety of additional advanced data analysis methods. The goal is for students to emerge from this course as creative data analysts with the tools and intuition needed to draw inferences from a wide variety of data types. 

**The course motto**: *Be Dangerous*! What does that mean?? It is *safer* to use standard analytical tools (e.g., in a software like SAS or SPSS, or 'canned' routines in R) because these methods have been tested in many ways over the years. When we build our own algorithms, we can be entering uncharted territory. And exploring these territories can be dangerous... and your inner voices (and other people's voices) might tell you not to go there, just play it safe. Don't listen to those voices! In this class, you are allowed - and encouraged! - to be dangerous! 

The general focus will be on *model-based inference*, including regression-based approaches, hierarchical/mixed models, and multi-model inference. Additional student-led modules will cover other advanced analysis topics such as classification and regression trees, structural equation modeling, survival analysis, and species distributions models. In all cases, we focus on the concepts and implementation and we generally leave the nitty-gritty stats questions to statisticians.  

Each student will be responsible for leading discussions and demonstrations on a data analysis method of their choice (working in groups). The laboratory portion of the class will provide students the opportunity to try out some of the data analysis methods we discuss in lecture. Structured labs with example data sets will be interspersed with open lab periods where students work in small groups on a research project involving analysis of a real-world data set. 

### Student Learning Objectives
Students will be able to:
1. Identify and contrast the major classes of statistical models used by ecologists (e.g., Bayesian vs frequentist, likelihood-based, machine learning) and explain how and why ecologists use these models. 
2. Apply analysis tools such as logistic regression, non-linear regression, hierarchical (mixed-effects) models, and machine-learning algorithms (e.g., Random Forest) on diverse data sets representative of those commonly considered in ecology.
3. Learn to explore data sets quantitatively and graphically and to prepare data appropriately for analysis. 
4. Perform basic programming operations, statistical analysis, data visualization, and simulation modeling with the statistical computing language 'R'.
5. Critically evaluate the strength of inferences drawn from statistical models by testing major assumptions and assessing performance using tools such as cross-validation.
6. Communicate statistical and computational concepts by leading lectures and discussion on advanced topics in data analysis.

### Prerequisites
Curious scientific mind, broad research interests, comfort with (or at least, lack of fear regarding) equations and computed programming. Students are expected to already have a solid foundation in standard statistical concepts and methods, obtained through other coursework. If this is not the case, they should be prepared to work harder to develop the necessary prerequisite knowledge.

### Textbooks and Readings
We will use the book, [Ecological Models and Data in R](https://ms.mcmaster.ca/~bolker/emdbook/), by Ben Bolker, as a general class reference. However, additional readings will be assigned, and will be available on the course website.
   
Additional readings will be assigned as indicated in the course schedule (which is ever- evolving!). 

### Course components

**Student-led presentations**: Each student will work with a small group (2-4) to lead a lecture/demonstration that introduces an advanced data analysis method using a worked example (clear, concise, informative tutorial), and provides examples of real-world applications from the published literature. Presenters are encouraged to work with the instructor (and other faculty, graduate students!) to better understand their data, methods, papers and topics.   
**Class Participation**: Students are expected to actively participate in the classroom. Don't be afraid to ask questions- fear of embarrassment can be a major impediment to learning. So consider this a safe space for making mistakes- *part of being dangerous is being fearless!*  
**Laboratory Reports**: Students will submit (1) an R script ('.R' file); here, a set of R functions, each of which performs a specific assigned task, and (2) a brief written report (in Word or Google Docs, submitted via WebCampus) succinctly answering any questions, and stating any questions or points of confusion with the lab exercises. While students are encouraged to work on the labs in small groups, all lab submissions must be made individually.    
**Group Projects**: Students will work on projects in groups of 3 - 4 (project groups need not be the same as the student-led topic groups). Projects will require analysis of previously published or publicly available data sets that are NOT intended to be part of a student's planned thesis or dissertation chapters. The instructor can assist with identifying suitable data sets. Although a primary goal is to enhance knowledge and facility with the data analysis methods, an important secondary goal could be to develop a collaborative manuscript for publication! Therefore, careful thought should go into choice of a data set and relevant scientific questions to guide the analysis.           

The group project will take the form of a manuscript for submission as a research paper (with fully fleshed-out methods and results and brief intro and discussion: see below). 


### Grading

|Course component                | Weight                                   |
|--------------------------------|------------------------------------------|
|Student-led topics              |	20%                                     |
|Participation                   |	10%                                     |
|Laboratories	                   |  30%                                     |
|Research Project, written       |  30%                                     |
|Research Project, presentation  |  10%                                     |

#### Group projects: expectations

Students are expected to perform (and write up) a data analysis using *state-of-the-art analytical methods*. The write-up will loosely take the format of a scientific paper to be submitted to a professional journal. However, because of the nature of this course, the most important pieces of the write-up are the **methods** and **results** sections (with several publication quality figures, of course!). Nonetheless, I expect at least a few paragraphs introducing the topic and why it's important (introduction section), and a few paragraphs discussing the implications of the results (discussion section). The methods and results sections can (and in many cases should) be longer than you typically see in a scientific paper- don't feel constrained by space for these sections! Not that you need to be wordy, I just want to make sure you have the space to clearly explain the analyses you performed and why you made the choices you did!

Here is a more detailed description of expectations for the final group project:

**Introduction:** Provide enough description so that the reader understands why the research is important and (if appropriate) what research question(s) and/or hypotheses are being addressed. (ca. 3 paragraphs) 

**Methods:**

- Provide just enough details about the data collection to give the reader the context necessary to understand the data.    
- Provide plenty of detail about the analytical approach- enough detail to  replicate the analysis. Justify all decisions that were made and (where appropriate) discuss why you did not use alternative approaches.   
- Discuss key analytical assumptions and how they were tested. How did you assess model adequacy? Did you attempt any other approaches?      

NOTE: This section can be longer than the Methods section of a standard manuscript.

**Results:** Present all relevant results completely and concisely. Wherever possible, results should be presented via figures and tables. *There is a limit of 5 figures and 3 tables*, so choose carefully which figures and tables to present. Figures should be *publication quality*.    

**Discussion:** Write at least three paragraphs that put the results in a larger context (returning to the key research questions) and discuss areas of uncertainty. Potential topics are possible violations of assumptions, and future work that your analysis suggests would be profitable.   

**Supplement** Provide all code used to run the analyses presented in the paper as an R script or [GitHub](https://github.com) link. 


### [Course Schedule](schedule.html)  

NOTE: the course schedule is subject to change, so please check back frequently!

[https://kevintshoemaker.github.io/NRES-746/schedule.html](schedule.html)

### Make-up policy and late work:
If you miss a class meeting or lab period, it is your responsibility to talk to one of your classmates about what you missed. If you miss a lab meeting, you are still responsible for completing the lab activities and write-up on your own time. You do not need to let me know in advance that you are going to miss class or lab.

### COVID-19 policies

#### Face Coverings  
In response to COVID-19, and in alignment local, state, and U.S. Center for Disease Control guidelines, face coverings are required at all times in all UNR indoor public spaces, including classroom, laboratory, studio, creative space, or any type of in-person instructional activity, and public spaces. Furthermore, individuals who have not been fully vaccinated against COVID 19 are required to wear a face covering at all times while on campus, including all indoor and outdoor public spaces.    
A “face covering” is defined as a “covering that fully covers a person’s nose and mouth, including without limitation, cloth face mask, surgical mask, towels, scarves, and bandanas” (State of Nevada Emergency Directive 024). 
Students that cannot wear a face covering due to a medical condition or disability, or who are unable to remove a mask without assistance may seek an accommodation through the Disability Resource Center.   

#### Social Distancing
In alignment with State of Nevada guidelines, social distancing is no longer required.    

#### Disinfecting Your Learning Space
Disinfecting supplies are provided for you to disinfect your learning space. You may also use your own disinfecting supplies. 

#### COVID-19, COVID-19 Like Symptoms, and Contact with Someone Testing Positive for COVID-19
Students testing positive for COVID 19, exhibiting COVID 19 symptoms regardless of vaccination status will not be allowed to attend in-person instructional activities and must leave the venue immediately. Students should contact the Student Health Center or their health care provider to receive care and who can provide the latest direction on quarantine and self-isolation. Contact your instructor immediately to make instructional and learning arrangements.

### Accommodations for COVID 19 Quarantined Students
For students who are required to quarantine or self-isolate due to 1) COVID 19 infection or 2) exposure while not vaccinated, instructors must provide opportunities to make-up missed course work, including assignments, quizzes or exams. In courses with mandatory attendance policies, instructors must not penalize students for missing classes while quarantined.

#### Failure to Comply with Policy (including as outlined in this Syllabus) or Directives of a University Employee
In accordance with section 6,502 of the University Administrative Manual, a student may receive academic and disciplinary sanctions for failure to comply with policy, including this syllabus, for failure to comply with the directions of a University Official, for disruptive behavior in the classroom, or any other prohibited action. “Disruptive behavior" is defined in part as behavior, including but not limited to failure to follow course, laboratory or safety rules, or endangering the health of others. A student may be dropped from class at any time for misconduct or disruptive behavior in the classroom upon recommendation of the instructor and with approval of the college dean. A student may also receive disciplinary sanctions through the Office of Student Conduct for misconduct or disruptive behavior, including endangering the health of others, in the classroom. The student shall not receive a refund for course fees or tuition.

### Statement on Academic Dishonesty
The University Academic Standards Policy defines academic dishonesty, and mandates specific sanctions for violations. See the University Academic Standards policy: [UAM 6,502](https://www.unr.edu/administrative-manual/6000-6999-curricula-teaching-research/6502-academic-standards) 

### Statement of Disability Services
Any student with a disability needing academic adjustments or accommodations is requested to speak with the instructor or the [Disability Resource Center](https://www.unr.edu/drc) (Pennington Achievement Center Suite 230) as soon as possible to arrange for appropriate accommodations. This course may leverage 3rd party web/multimedia content, if you experience any issues accessing this content, please notify your instructor.

### Statement on Audio and Video Recording
Surreptitious or covert video-taping of class or unauthorized audio recording of class is prohibited by law and by Board of Regents policy. This class may be videotaped or audio recorded only with the written permission of the instructor. In order to accommodate students with disabilities, some students may have been given permission to record class lectures and discussions. Therefore, students should understand that their comments during class may be recorded. 

Class sessions may be audio-visually recorded for students in the class to review and for enrolled students who are unable to attend live to view. Students who participate with their camera on or who use a profile image are consenting to have their video or image recorded.  If you do not consent to have your profile or video image recorded, keep your camera off and do not use a profile image. Students who un-mute during class and participate orally are consenting to have their voices recorded.  If you do not consent to have your voice recorded during class, keep your mute button activated and only communicate by using the "chat" feature, which allows you to type questions and comments live.

### This is a safe space
The University of Nevada, Reno is committed to providing a safe learning and work environment for all. If you believe you have experienced discrimination, sexual harassment, sexual assault, domestic/dating violence, or stalking, whether on or off campus, or need information related to immigration concerns, please contact the University's Equal Opportunity & Title IX office at 775-784-1547. Resources and interim measures are available to assist you. For more information, please visit the Equal Opportunity and Title IX page. 
In addition to the required information listed above, it is strongly recommended that the syllabus include:

* Methods for communicating with students outside the classroom regarding matters such as class cancellations, meeting times, or room changes    
* More detail about what constitutes academic dishonesty, with a concrete list or examples of "dos and don'ts" in the context of the class    
* Statement for academic success services: "Your student fees cover usage of the University Math Center (https://www.unr.edu/university-math-center), (775) 784-4433; University Tutoring Center (https://www.unr.edu/tutoring-center), (775) 784-6801; and University Writing & Speaking Center (https://www.unr.edu/writing-speaking-center), (775) 784-6030. These centers support your classroom learning; it is your responsibility to take advantage of their services. Keep in mind that seeking help outside of class is the sign of a responsible and successful student.     








```{r echo=FALSE, eval=FALSE}
rmarkdown::render('index.Rmd', 'word_document')
rmarkdown::render('schedule.Rmd', 'word_document')

knitr::opts_chunk$set(echo = TRUE, message = FALSE)
rmarkdown::render('index.Rmd',rmarkdown::pdf_document())
rmarkdown::render('schedule.Rmd',rmarkdown::pdf_document())
rmarkdown::render('INTRO.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE1.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE2.Rmd',rmarkdown::pdf_document())  # latex_engine="xelatex"
rmarkdown::render('LECTURE3.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE4.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE5.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE6.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE7.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE8.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE9.Rmd',rmarkdown::pdf_document())
rmarkdown::render('LECTURE10.Rmd',rmarkdown::pdf_document())



rmarkdown::render("TimeSeries.Rmd",rmarkdown::pdf_document())
rmarkdown::render("SEM.Rmd",rmarkdown::pdf_document())
rmarkdown::render("SpatialAutocorrelation.Rmd",rmarkdown::pdf_document())
rmarkdown::render("BayesianNetworks.Rmd",rmarkdown::pdf_document())
rmarkdown::render("MixedEffects.Rmd",rmarkdown::pdf_document())
rmarkdown::render("QuantileRegression.Rmd",rmarkdown::pdf_document())
rmarkdown::render("ordination_lecture.Rmd",rmarkdown::pdf_document())
rmarkdown::render("RSFs.Rmd",rmarkdown::pdf_document())


# rmarkdown::render('LAB1.Rmd',rmarkdown::pdf_document())   # deprecated
# rmarkdown::render('LAB2.Rmd',rmarkdown::pdf_document())
# rmarkdown::render('LAB3.Rmd',rmarkdown::pdf_document())
# rmarkdown::render('LAB4.Rmd',rmarkdown::pdf_document())
# rmarkdown::render('LAB5.Rmd',rmarkdown::pdf_document())



```

```{r echo=FALSE}
rmd2rscript <- function(infile="LECTURE2.Rmd"){    # function for converting markdown to scripts
  outfile <- gsub(".Rmd",".R",infile)
  close( file( outfile, open="w" ) )   # clear output file
  con1 <- file(infile,open="r")
  con2 <- file(outfile,"w")
  stringToFind <- "```{r*"
  stringToFind2 <- "echo"
  isrblock <- FALSE
  #count=0
  blocknum=0
  
  while(length(input <- readLines(con1, n=1)) > 0){   # while there are still lines to be read
    isrblock <- grepl(input, pattern = stringToFind, perl = TRUE)   # is it the start of an R block?
    showit <- !grepl(input, pattern = stringToFind2, perl = TRUE)   # is it hidden (echo=FALSE)
    if(isrblock){
      blocknum=blocknum+1
      while(!grepl(newline<-readLines(con1, n=1),pattern="```",perl=TRUE)){
        if((blocknum>1)&((showit)|(blocknum==2))) write(newline,file=con2,append=TRUE)
        #count=count+1
      }
      isrblock=FALSE
    }
  }
  closeAllConnections()
}

rmd2rscript_labanswers <- function(infile="LECTURE2.Rmd"){    # function for converting markdown to scripts
  outfile <- gsub(".Rmd",".R",infile)
  close( file( outfile, open="w" ) )   # clear output file
  con1 <- file(infile,open="r")
  con2 <- file(outfile,"w")
  stringToFind <- "```{r*"
  stringToFind2 <- c("answer","test")
  isrblock <- FALSE
  #count=0
  blocknum=0
  
  while(length(input <- readLines(con1, n=1)) > 0){   # while there are still lines to be read
    isrblock <- grepl(input, pattern = stringToFind, perl = TRUE)   # is it the start of an R block?
    showit <- grepl(input, pattern = stringToFind2[1], perl = TRUE) | grepl(input, pattern = stringToFind2[2])   
    if(isrblock){
      blocknum=blocknum+1
      while(!grepl(newline<-readLines(con1, n=1),pattern="```",perl=TRUE)){
        if((blocknum>1)&((showit)|(blocknum==2))) write(newline,file=con2,append=TRUE)
        #count=count+1
      }
      isrblock=FALSE
    }
  }
  closeAllConnections()
}

```


```{r echo=FALSE, eval=FALSE}

rmd2rscript("LECTURE1.Rmd")
rmd2rscript("LECTURE2.Rmd")
rmd2rscript("LECTURE3.Rmd")
rmd2rscript("LECTURE4.Rmd")
rmd2rscript("LECTURE5.Rmd")
rmd2rscript("LECTURE6.Rmd")
rmd2rscript("LECTURE7.Rmd")  ##
rmd2rscript("LECTURE8.Rmd")
rmd2rscript("LECTURE9.Rmd")
rmd2rscript("LECTURE10.Rmd")
rmd2rscript("FigureDemo.Rmd")


rmd2rscript("SDM_v5.Rmd")
rmd2rscript("TimeSeries.Rmd")
rmd2rscript("SEM.Rmd")
rmd2rscript("SpatialAutocorrelation.Rmd")
rmd2rscript("BayesianNetworks.Rmd")
rmd2rscript("MixedEffects.Rmd")
rmd2rscript("QuantileRegression.Rmd")
rmd2rscript("ordination_lecture.Rmd")
rmd2rscript("RSFs.Rmd")

rmd2rscript_labanswers("LAB1.Rmd")
rmd2rscript_labanswers("LAB2.Rmd")
rmd2rscript_labanswers("LAB3.Rmd")
rmd2rscript_labanswers("LAB4.Rmd")

```



```{r echo=FALSE, eval=FALSE}

# to embed html
<!--html_preserve-->
<div>
    <div>
       <h1>Courses &amp; Teaching</h1>
    </div>
</div>
<!--/html_preserve-->
```


```{r echo=FALSE, eval=FALSE}

    - text: "Student-led topics"
      menu:
        - text: "SEMs"
          href: forWebsite_SEM.html
        - text: "SEM mini-lab"
          href: SEM_Minilab_v2.html
        - text: "GAMs"
          href: GAMs.html
        - text: "Publication-quality figures in R"
          href: RMarkdown_FigureDemo.html 
        - text: "Bayesian Networks"
          href: Bayesian Networks.pptx
        - text: "Bayesian Networks mini-lab"
          href: Bayes_Network_Markdown_Final.html
        - text: "Graph Theory"
          href: GraphTheory.html
        - text: "Integrated Population Models"
          href: NRES746_IPMs.pptx
        - text: "Time Series Analysis"
          href: TimeSeries_heckler.html
        - text: "Time-series mini-lab"
          href: Time_Series_Lab.html
        - text: "Spatial Autocorrelation"
          href: Spatial_Autocorrelation.html
        - text: "Spatial Autocorrelation mini-lab"
          href: SA_minilab.html
        - text: "Species Distribution Modeling"
          href: SDM_pres.html
        - text: "IPM mini-lab"
          href: IPM_miniLab.html
        - text: "RSF mini-lab"
          href: Final_MiniLabScript.html
        - text: "Mixed-effects model mini-lab"
          href: MixedModelMinilab.html
        - text: "Ordination"
          href: Ordination.html          
        - text: "Ordination mini-lab"
          href: Minilab_Ordination.html
```



